<!DOCTYPE HTML>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>GitLab中文文档</title>
  <meta name="description" content="GitLab中文社区提供GitLab社区版，GitLab企业版，Omnibus GitLab，GitLab Runner全系列中文文档！">
  <link rel="stylesheet" href="../../assets/stylesheets/stylesheet-v6.css">
  <link rel="stylesheet" href="../../assets/stylesheets/highlight-v4.css">
  <script async src="../../assets/javascripts/docs.js"></script>
  <link href='https://fonts.proxy.ustclug.org/css?family=Ubuntu:300,400,600,400italic' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <!-- you don't need to keep this, but it's cool for stats! -->
  <meta name="generator" content="Nanoc 4.4.2">
</head>

  <body>
    <div class="header">
  <a href="../../index.html">
    <img src="../../assets/images/gitlab-logo.svg"/>
    <p>GitLab 中文文档</p>
  </a>
  <div class="nav-container">
    <a class="nav-toggle" id="docs-nav-toggle">Menu</a>
    <ul class="nav">
      <li class="search"><input type="text" class="st-default-search-input" placeholder="Search"></li>
      
        <li class="nav-item">
          <a href="../../ce/README.html">
            Community Edition
          </a>
        </li>
      
        <li class="nav-item">
          <a href="../README.html">
            Enterprise Edition
          </a>
        </li>
      
        <li class="nav-item">
          <a href="../../omnibus/README.html">
            Omnibus
          </a>
        </li>
      
        <li class="nav-item">
          <a href="../../runner/index.html">
            Runner
          </a>
        </li>
      
    </ul>
  </div>
</div>

    <div class="main class">
      
        <ul class="breadcrumbs">
          
          
            
              <li class="breadcrumb"><a href="../README.html">Documentation</a></li>
            
              <li class="breadcrumb"><a href="README.html">GitLab CI Documentation</a></li>
            
          
          <li class="breadcrumb">Current page</li>
        </ul>
      
      <ul>
<li>
<a href="enable_or_disable_ci.html#enable-or-disable-gitlab-ci">Enable or disable GitLab CI</a>
<ul>
<li>
<a href="enable_or_disable_ci.html#per-project-user-setting">Per-project user setting</a>
</li>
<li>
<a href="enable_or_disable_ci.html#site-wide-administrator-setting">Site-wide administrator setting</a>
</li>
</ul>
</li>
</ul>
<h2 id='enable-or-disable-gitlab-ci'>Enable or disable GitLab CI <a class='anchor' href='enable_or_disable_ci.html#enable-or-disable-gitlab-ci' title='Permalink'></a></h2>
<p><em>To effectively use GitLab CI, you need a valid <a href="yaml/README.html"><code>.gitlab-ci.yml</code></a>
file present at the root directory of your project and a
<a href="runners/README.html">runner</a> properly set up. You can read our
<a href="quick_start/README.html">quick start guide</a> to get you started.</em></p>

<p>If you are using an external CI server like Jenkins or Drone CI, it is advised
to disable GitLab CI in order to not have any conflicts with the commits status
API.</p>

<hr>

<p>As of GitLab 8.2, GitLab CI is mainly exposed via the <code>/builds</code> page of a
project. Disabling GitLab CI in a project does not delete any previous builds.
In fact, the <code>/builds</code> page can still be accessed, although it&#39;s hidden from
the left sidebar menu.</p>

<p>GitLab CI is enabled by default on new installations and can be disabled either
individually under each project&#39;s settings, or site-wide by modifying the
settings in <code>gitlab.yml</code> and <code>gitlab.rb</code> for source and Omnibus installations
respectively.</p>
<h3 id='per-project-user-setting'>Per-project user setting <a class='anchor' href='enable_or_disable_ci.html#per-project-user-setting' title='Permalink'></a></h3>
<p>The setting to enable or disable GitLab CI can be found with the name <strong>Builds</strong>
under the <strong>Features</strong> area of a project&#39;s settings along with <strong>Issues</strong>,
<strong>Merge Requests</strong>, <strong>Wiki</strong> and <strong>Snippets</strong>. Select or deselect the checkbox
and hit <strong>Save</strong> for the settings to take effect.</p>

<p><a target="_blank" href="img/features_settings.png"><img src="img/features_settings.png" title="" alt="Features settings"/></a></p>

<hr>
<h3 id='site-wide-administrator-setting'>Site-wide administrator setting <a class='anchor' href='enable_or_disable_ci.html#site-wide-administrator-setting' title='Permalink'></a></h3>
<p>You can disable GitLab CI site-wide, by modifying the settings in <code>gitlab.yml</code>
and <code>gitlab.rb</code> for source and Omnibus installations respectively.</p>

<p>Two things to note:</p>

<ol>
<li>Disabling GitLab CI, will affect only newly-created projects. Projects that
had it enabled prior to this modification, will work as before.</li>
<li>Even if you disable GitLab CI, users will still be able to enable it in the
project&#39;s settings.</li>
</ol>

<hr>

<p>For installations from source, open <code>gitlab.yml</code> with your editor and set
<code>builds</code> to <code>false</code>:</p>
<pre class="highlight yaml"><code><span class="c1">## Default project features settings</span>
<span class="na">default_projects_features</span><span class="pi">:</span>
  <span class="na">issues</span><span class="pi">:</span> <span class="s">true</span>
  <span class="na">merge_requests</span><span class="pi">:</span> <span class="s">true</span>
  <span class="na">wiki</span><span class="pi">:</span> <span class="s">true</span>
  <span class="na">snippets</span><span class="pi">:</span> <span class="s">false</span>
  <span class="na">builds</span><span class="pi">:</span> <span class="s">false</span>
</code></pre>
<p>Save the file and restart GitLab: <code>sudo service gitlab restart</code>.</p>

<p>For Omnibus installations, edit <code>/etc/gitlab/gitlab.rb</code> and add the line:</p>
<pre class="highlight plaintext"><code>gitlab_rails['gitlab_default_projects_features_builds'] = false
</code></pre>
<p>Save the file and reconfigure GitLab: <code>sudo gitlab-ctl reconfigure</code>.</p>

      <hr>
      <!--插入畅言评论框-->
      <!--PC和WAP自适应版-->
<div id="SOHUCS" ></div>
<script type="text/javascript">
(function(){
var appid = 'cysJws232';
var conf = 'prod_75287b5b4916f1a8a49f289fd9f44e32';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

      <footer>
        <a href='https://gitlab.com/gitlab-org/gitlab-ee/blob/master/doc/ci/enable_or_disable_ci.md'>Improve this documentation on GitLab.com</a>
        <a href="https://gitlab.com/gitlab-com/gitlab-docs">View the source code of this site</a>
      </footer>
    </div>
  </body>

  <!-- Baidu analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?32465a463ee9e0febe2ad3f353d247fc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!-- Baidu Push -->
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!-- Swiftype search engine -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','sSywtTjozQxL11PWiwA7','2.0.0');
</script>

<!-- Marketo -->
<script type="text/javascript">
  (function() {
    var didInit = false;
    function initMunchkin() {
      if(didInit === false) {
        didInit = true;
        Munchkin.init('194-VVC-221');
      }
    }
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

</html>
